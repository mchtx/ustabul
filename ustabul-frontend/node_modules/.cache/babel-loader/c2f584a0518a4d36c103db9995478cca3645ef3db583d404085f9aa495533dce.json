{"ast":null,"code":"import _objectSpread from\"C:/Users/mcht7/Desktop/TEZ AGENT/ustabul-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import{useAuth}from'../hooks';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(){const[formData,setFormData]=useState({username:'',email:'',password:'',password_confirm:'',first_name:'',last_name:'',phone:'',role:'customer'});const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);const{register}=useAuth();const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setError('');if(formData.password!==formData.password_confirm){setError('Şifreler eşleşmiyor.');return;}if(formData.password.length<6){setError('Şifre en az 6 karakter olmalıdır.');return;}setIsLoading(true);try{const success=await register(formData);if(success){navigate('/');}else{setError('Kayıt başarısız. Lütfen bilgilerinizi kontrol edin ve tekrar deneyin.');}}catch(err){console.error('Kayıt hatası detayı:',err);setError('Kayıt sırasında hata oluştu. Lütfen daha sonra tekrar deneyin.');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto px-4 py-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center mb-8 text-orange-600\",children:\"UstaBul\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 text-red-800 p-3 rounded-lg text-sm\",children:error}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Rol\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",value:formData.role,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"M\\xFC\\u015Fteri\"}),/*#__PURE__*/_jsx(\"option\",{value:\"workshop\",children:\"D\\xFCkk\\xE2n Sahibi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"parts_dealer\",children:\"Par\\xE7ac\\u0131\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Ad\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"first_name\",value:formData.first_name,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Soyad\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"last_name\",value:formData.last_name,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"E-posta\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Kullan\\u0131c\\u0131 Ad\\u0131\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Telefon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u015Eifre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u015Eifre Tekrar\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password_confirm\",value:formData.password_confirm,onChange:handleChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"w-full bg-orange-600 text-white py-2 rounded-lg font-bold hover:bg-orange-700 disabled:opacity-50\",children:isLoading?'Kaydolunuyor...':'Kaydol'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-6 text-gray-600\",children:[\"Zaten hesab\\u0131n\\u0131z var m\\u0131? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-orange-600 font-bold hover:underline\",children:\"Giri\\u015F yap\"})]})]})});}export default RegisterPage;","map":{"version":3,"names":["React","useState","useNavigate","Link","useAuth","jsx","_jsx","jsxs","_jsxs","RegisterPage","formData","setFormData","username","email","password","password_confirm","first_name","last_name","phone","role","error","setError","isLoading","setIsLoading","register","navigate","handleChange","e","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","length","success","err","console","className","children","onSubmit","onChange","required","type","disabled","to"],"sources":["C:/Users/mcht7/Desktop/TEZ AGENT/ustabul-frontend/src/pages/RegisterPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useAuth } from '../hooks';\r\n\r\nfunction RegisterPage() {\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    password_confirm: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    phone: '',\r\n    role: 'customer',\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { register } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    if (formData.password !== formData.password_confirm) {\r\n      setError('Şifreler eşleşmiyor.');\r\n      return;\r\n    }\r\n\r\n    if (formData.password.length < 6) {\r\n      setError('Şifre en az 6 karakter olmalıdır.');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const success = await register(formData);\r\n      if (success) {\r\n        navigate('/');\r\n      } else {\r\n        setError('Kayıt başarısız. Lütfen bilgilerinizi kontrol edin ve tekrar deneyin.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Kayıt hatası detayı:', err);\r\n      setError('Kayıt sırasında hata oluştu. Lütfen daha sonra tekrar deneyin.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto px-4 py-16\">\r\n      <div className=\"bg-white rounded-lg shadow p-8\">\r\n        <h1 className=\"text-3xl font-bold text-center mb-8 text-orange-600\">UstaBul</h1>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {error && (\r\n            <div className=\"bg-red-100 text-red-800 p-3 rounded-lg text-sm\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Rol</label>\r\n            <select\r\n              name=\"role\"\r\n              value={formData.role}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              required\r\n            >\r\n              <option value=\"customer\">Müşteri</option>\r\n              <option value=\"workshop\">Dükkân Sahibi</option>\r\n              <option value=\"parts_dealer\">Parçacı</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Ad</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"first_name\"\r\n                value={formData.first_name}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Soyad</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"last_name\"\r\n                value={formData.last_name}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">E-posta</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Kullanıcı Adı</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={formData.username}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Telefon</label>\r\n            <input\r\n              type=\"tel\"\r\n              name=\"phone\"\r\n              value={formData.phone}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Şifre</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Şifre Tekrar</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password_confirm\"\r\n              value={formData.password_confirm}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"w-full bg-orange-600 text-white py-2 rounded-lg font-bold hover:bg-orange-700 disabled:opacity-50\"\r\n          >\r\n            {isLoading ? 'Kaydolunuyor...' : 'Kaydol'}\r\n          </button>\r\n        </form>\r\n\r\n        <p className=\"text-center mt-6 text-gray-600\">\r\n          Zaten hesabınız var mı? <Link to=\"/login\" className=\"text-orange-600 font-bold hover:underline\">Giriş yap</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegisterPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}